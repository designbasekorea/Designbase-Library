.designbase-spinner {
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--db-gap-s);
    color: var(--spinner-color, var(--db-icon-primary));
    position: relative;

    line-height: 1;
    vertical-align: middle;

    /* 회전/스케일 기준을 명시적으로 중앙 */
    svg,
    .designbase-spinner__pulse,
    .designbase-spinner__ripple-circle {
        transform-origin: 50% 50%;
        transform-box: fill-box;
    }

    &__label {
        font-size: var(--db-text-s);
        color: var(--db-text-secondary);
        white-space: nowrap;
    }

    /* Circular */
    &--circular {
        .designbase-spinner__circular {
            width: 1em;
            height: 1em;
            animation: db-spinner-rotate var(--spinner-speed, 1s) linear infinite;
            will-change: transform;
        }

        .designbase-spinner__circular-track {
            opacity: 0.2;
        }

        .designbase-spinner__circular-indicator {
            stroke-dasharray: 80;
            stroke-dashoffset: 80;
            animation: db-spinner-circular-progress var(--spinner-speed, 1s) ease-in-out infinite;
            will-change: stroke-dashoffset;
        }
    }

    /* Dots */
    &--dots {
        .designbase-spinner__dots {
            display: flex;
            gap: var(--db-gap-xs);
        }

        .designbase-spinner__dot {
            width: 0.5em;
            height: 0.5em;
            border-radius: 50%;
            background-color: currentColor;
            animation: db-spinner-dots-bounce var(--spinner-speed, 1s) ease-in-out infinite;
            will-change: transform, opacity;

            &:nth-child(1) {
                animation-delay: -0.32s;
            }

            &:nth-child(2) {
                animation-delay: -0.16s;
            }
        }
    }

    /* Bars */
    &--bars {
        .designbase-spinner__bars {
            display: flex;
            gap: 2px;
            height: 1em;
        }

        .designbase-spinner__bar {
            width: 3px;
            background-color: currentColor;
            border-radius: 2px;
            animation: db-spinner-bars-wave var(--spinner-speed, 1s) ease-in-out infinite;
            will-change: transform;

            &:nth-child(1) {
                animation-delay: -0.4s;
            }

            &:nth-child(2) {
                animation-delay: -0.3s;
            }

            &:nth-child(3) {
                animation-delay: -0.2s;
            }

            &:nth-child(4) {
                animation-delay: -0.1s;
            }
        }
    }

    /* Pulse */
    &--pulse {
        .designbase-spinner__pulse {
            width: 1em;
            height: 1em;
            border-radius: 50%;
            background-color: currentColor;
            animation: db-spinner-pulse-scale var(--spinner-speed, 1s) ease-in-out infinite;
            will-change: transform, opacity;
        }
    }

    /* Ripple */
    &--ripple {
        position: relative;
        width: 1em;
        height: 1em;

        .designbase-spinner__ripple-circle {
            position: absolute;
            inset: 0;
            width: 100%;
            height: 100%;
            border: 2px solid currentColor;
            border-radius: 50%;
            animation: db-spinner-ripple-expand var(--spinner-speed, 1s) ease-out infinite;
            will-change: transform, opacity;

            &:nth-child(2) {
                animation-delay: calc(var(--spinner-speed, 1s) * 0.5);
            }
        }
    }

    /* Sizes */
    &--xs {
        font-size: 12px;
    }

    &--s {
        font-size: 14px;
    }

    &--m {
        font-size: 16px;
    }

    &--l {
        font-size: 20px;
    }

    &--xl {
        font-size: 24px;
    }
}

/* === 고유 네임스페이스 키프레임 (전역 충돌 방지) === */
@keyframes db-spinner-rotate {
    from {
        transform: rotate(0deg);
    }

    to {
        transform: rotate(360deg);
    }
}

@keyframes db-spinner-circular-progress {
    0% {
        stroke-dashoffset: 70;
    }

    50% {
        stroke-dashoffset: 80;
    }

    100% {
        stroke-dashoffset: 70;
    }
}

@keyframes db-spinner-dots-bounce {

    0%,
    80%,
    100% {
        transform: scale(0.8);
        opacity: 0.5;
    }

    40% {
        transform: scale(1);
        opacity: 1;
    }
}

@keyframes db-spinner-bars-wave {

    0%,
    40%,
    100% {
        transform: scaleY(0.4);
    }

    20% {
        transform: scaleY(1);
    }
}

@keyframes db-spinner-pulse-scale {
    0% {
        transform: scale(0.8);
        opacity: 0.5;
    }

    50% {
        transform: scale(1);
        opacity: 1;
    }

    100% {
        transform: scale(0.8);
        opacity: 0.5;
    }
}

@keyframes db-spinner-ripple-expand {
    0% {
        transform: scale(0);
        opacity: 1;
    }

    100% {
        transform: scale(1);
        opacity: 0;
    }
}