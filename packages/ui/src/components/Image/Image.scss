/**
 * Image 컴포넌트 스타일
 */

.designbase-image {
    position: relative;
    display: block;
    overflow: hidden;
    background-color: var(--db-surface-layer-1);

    // 기본 이미지 스타일
    &__img {
        width: 100%;
        height: 100%;
        object-fit: cover;
        transition: opacity var(--db-animation-speed) var(--db-animation-ease), transform var(--db-animation-speed) var(--db-animation-ease);
        opacity: 0;

        &--loaded {
            opacity: 1;
        }

        &--error {
            opacity: 0;
        }
    }

    // Aspect Ratio 스타일
    &--ratio-auto {
        .designbase-image__img {
            object-fit: contain;
        }
    }

    &--ratio-1-1 {
        aspect-ratio: 1 / 1;
    }

    &--ratio-16-9 {
        aspect-ratio: 16 / 9;
    }

    &--ratio-4-3 {
        aspect-ratio: 4 / 3;
    }

    &--ratio-3-2 {
        aspect-ratio: 3 / 2;
    }

    &--ratio-3-4 {
        aspect-ratio: 3 / 4;
    }

    &--ratio-2-1 {
        aspect-ratio: 2 / 1;
    }

    // Object Fit 스타일
    &--fit-cover {
        .designbase-image__img {
            object-fit: cover;
        }
    }

    &--fit-contain {
        .designbase-image__img {
            object-fit: contain;
        }
    }

    &--fit-fill {
        .designbase-image__img {
            object-fit: fill;
        }
    }

    &--fit-none {
        .designbase-image__img {
            object-fit: none;
        }
    }

    &--fit-scale-down {
        .designbase-image__img {
            object-fit: scale-down;
        }
    }

    // 둥근 모서리 스타일
    &--rounded {
        border-radius: var(--db-radius-m);
    }

    &--rounded-sm {
        border-radius: var(--db-radius-s);
    }

    &--rounded-md {
        border-radius: var(--db-radius-m);
    }

    &--rounded-lg {
        border-radius: var(--db-radius-l);
    }

    &--rounded-full {
        border-radius: var(--db-radius-full);
    }

    // 그림자 스타일
    &--shadow {
        box-shadow: var(--db-shadow-sm);
    }

    &--shadow-sm {
        box-shadow: var(--db-shadow-sm);
    }

    &--shadow-md {
        box-shadow: var(--db-shadow-md);
    }

    &--shadow-lg {
        box-shadow: var(--db-shadow-lg);
    }

    // 호버 효과
    &--hover {
        cursor: pointer;
        transition: transform var(--db-animation-speed) var(--db-animation-ease), box-shadow var(--db-animation-speed) var(--db-animation-ease);

        &:hover {
            transform: translateY(-2px);
            box-shadow: var(--db-shadow-lg);
        }

        &:active {
            transform: translateY(0);
        }
    }

    // 전체 너비/높이
    &--full-width {
        width: 100%;
    }

    &--full-height {
        height: 100%;
    }

    // 클릭 가능한 상태
    &--clickable {
        cursor: pointer;
    }

    // 로딩 상태
    &--loading {
        .designbase-image__img {
            opacity: 0;
        }
    }

    // 에러 상태
    &--error {
        .designbase-image__img {
            opacity: 0;
        }
    }

    // 플레이스홀더
    &__placeholder {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: var(--db-surface-layer-1);
        opacity: 0;
        transition: opacity var(--db-animation-speed) var(--db-animation-ease);

        &--visible {
            opacity: 1;
        }

        // 스켈레톤 플레이스홀더
        &--skeleton {
            .designbase-image__skeleton {
                width: 100%;
                height: 100%;
                background: linear-gradient(90deg,
                        var(--db-bg-muted) 25%,
                        var(--db-surface-layer-1) 50%,
                        var(--db-bg-muted) 75%);
                background-size: 200% 100%;
                animation: skeleton-loading 1.5s infinite;
            }
        }

        // 블러 플레이스홀더
        &--blur {
            .designbase-image__blur {
                width: 100%;
                height: 100%;
                background-color: var(--db-surface-layer-1);
                filter: blur(10px);
                transform: scale(1.1);
            }
        }
    }

    // 에러 상태
    &__error {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        display: flex;
        flex-direction: column;
        align-items: center;
        justify-content: center;
        background-color: var(--db-surface-layer-1);
        color: var(--db-text-secondary);
        padding: var(--db-padding-m);
        text-align: center;

        &-text {
            margin-top: var(--db-margin-s);
            font-size: var(--db-text-s);
            line-height: var(--db-leading-tight);
        }
    }

    // 스켈레톤 애니메이션
    @keyframes skeleton-loading {
        0% {
            background-position: 200% 0;
        }

        100% {
            background-position: -200% 0;
        }
    }
}


// 반응형 지원
@media (max-width: 768px) {
    .designbase-image {
        &__error {
            padding: var(--db-padding-s);

            &-text {
                font-size: var(--db-text-xs);
            }
        }
    }
}