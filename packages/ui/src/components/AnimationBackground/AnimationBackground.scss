.designbase-animation-background {
    position: relative;
    display: block;
    overflow: hidden;
    transition: all 0.3s ease;

    // 클릭 가능
    &--clickable {
        cursor: pointer;
        user-select: none;

        &:hover {
            transform: scale(1.02);
        }

        &:active {
            transform: scale(0.98);
        }
    }

    // 비활성화
    &--disabled {
        opacity: 0.5;
        cursor: not-allowed;
        pointer-events: none;
    }

    // 레이어 공통: 전체 영역
    &__canvas-layer,
    &__css-layer {
        position: absolute;
        inset: 0;
        width: 100%;
        height: 100%;
        z-index: 0;
    }

    &__canvas {
        display: block;
        width: 100%;
        height: 100%;
    }

    // Mesh Aurora (블롭) 레이어
    &__aurora-mesh {
        position: absolute;
        inset: 0;
        overflow: hidden;
        z-index: 0;
    }

    &__aurora-blob {
        position: absolute;
        width: 80%;
        height: 80%;
        border-radius: 50%;
        pointer-events: none;
        animation: designbase-aurora-blob ease-in-out infinite;
    }

    &__aurora-noise {
        position: absolute;
        inset: 0;
        pointer-events: none;
    }

    // ===== 애니메이션 타입 =====

    // Gradient 애니메이션
    &--gradient {
        &.designbase-animation-background--visible {
            animation: gradientMove var(--db-animation-speed) ease-in-out infinite;
        }

        &.designbase-animation-background--animating {
            animation: gradientPulse var(--db-animation-speed) ease-in-out;
        }
    }

    // Pulse 애니메이션
    &--pulse {
        &.designbase-animation-background--visible {
            animation: pulse var(--db-animation-speed) ease-in-out infinite;
        }

        &.designbase-animation-background--animating {
            animation: pulseIntense var(--db-animation-speed) ease-in-out;
        }
    }

    // Wave 애니메이션
    &--wave {
        &::before {
            content: '';
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: linear-gradient(45deg, var(--wave-colors));
            background-size: 400% 400%;
            animation: waveMove var(--db-animation-speed) ease-in-out infinite;
            z-index: -1;
        }

        &.designbase-animation-background--visible {
            animation: waveFadeIn var(--db-animation-speed) ease-out;
        }

        &.designbase-animation-background--animating {
            &::before {
                animation: waveIntense var(--db-animation-speed) ease-in-out infinite;
            }
        }
    }

    // Aurora 애니메이션 (은은한 블러 + 앱스트랙트, UI 배경용)
    &--aurora {
        background-color: var(--db-surface-base, #f8fafc);
        isolation: isolate;

        .designbase-animation-background__aurora-layer {
            position: absolute;
            inset: -20%;
            pointer-events: none;
            z-index: 0;
            opacity: var(--aurora-opacity, 0.35);
            filter: blur(var(--aurora-blur, 80px));
            animation: auroraDrift var(--aurora-speed, 25s) ease-in-out infinite;
            will-change: transform;

            // 레이어 1: 부드러운 오로라 오브 (청록·인디고·바이올렛)
            &::before {
                content: '';
                position: absolute;
                width: 90%;
                height: 90%;
                top: -15%;
                left: -10%;
                border-radius: 50%;
                background:
                    radial-gradient(ellipse 70% 50% at 20% 30%,
                        rgba(6, 182, 212, 0.25),
                        transparent 55%),
                    radial-gradient(ellipse 60% 70% at 70% 60%,
                        rgba(99, 102, 241, 0.2),
                        transparent 50%),
                    radial-gradient(ellipse 50% 50% at 50% 80%,
                        rgba(139, 92, 246, 0.18),
                        transparent 55%);
            }

            // 레이어 2: 은은한 보조 오브
            &::after {
                content: '';
                position: absolute;
                width: 80%;
                height: 80%;
                bottom: -20%;
                right: -15%;
                border-radius: 50%;
                background:
                    radial-gradient(ellipse 60% 60% at 60% 20%,
                        rgba(236, 72, 153, 0.12),
                        transparent 50%),
                    radial-gradient(ellipse 50% 50% at 30% 70%,
                        rgba(14, 165, 233, 0.15),
                        transparent 50%);
            }
        }

        // 자식(콘텐츠)이 오로라 레이어 위에 오도록
        >*:not(.designbase-animation-background__aurora-layer) {
            position: relative;
            z-index: 1;
        }

        &.designbase-animation-background--visible .designbase-animation-background__aurora-layer {
            animation: auroraDrift var(--aurora-speed, 25s) ease-in-out infinite;
        }

        &.designbase-animation-background--aurora-vivid .designbase-animation-background__aurora-layer {
            opacity: var(--aurora-opacity, 0.75);
        }

        &.designbase-animation-background--aurora-medium .designbase-animation-background__aurora-layer {
            opacity: var(--aurora-opacity, 0.55);
        }
    }

    // Particles & Stars는 Canvas로 처리되므로 별도 스타일 불필요
}

// ===== 키프레임 애니메이션 =====

@keyframes gradientMove {

    0%,
    100% {
        background-position: 0% 50%;
    }

    50% {
        background-position: 100% 50%;
    }
}

@keyframes gradientPulse {

    0%,
    100% {
        background-position: 0% 50%;
        opacity: 1;
    }

    50% {
        background-position: 100% 50%;
        opacity: 0.8;
    }
}

@keyframes pulse {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
    }

    50% {
        opacity: 0.8;
        transform: scale(1.02);
    }
}

@keyframes pulseIntense {

    0%,
    100% {
        opacity: 1;
        transform: scale(1);
    }

    50% {
        opacity: 0.6;
        transform: scale(1.1);
    }
}

@keyframes waveMove {

    0%,
    100% {
        background-position: 0% 50%;
        transform: translateY(0);
    }

    50% {
        background-position: 100% 50%;
        transform: translateY(-10px);
    }
}

@keyframes waveFadeIn {
    0% {
        opacity: 0;
        transform: translateY(20px);
    }

    100% {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes waveIntense {

    0%,
    100% {
        background-position: 0% 50%;
        transform: translateY(0) scale(1);
    }

    50% {
        background-position: 100% 50%;
        transform: translateY(-20px) scale(1.05);
    }
}

// Mesh Aurora 블롭 이동 (레이어 컴포넌트용)
@keyframes designbase-aurora-blob {

    0%,
    100% {
        transform: translate(0, 0) scale(1);
    }

    33% {
        transform: translate(30px, -30px) scale(1.05);
    }

    66% {
        transform: translate(-20px, 20px) scale(0.95);
    }
}

// 오로라 은은한 드리프트 (UI 배경용)
@keyframes auroraDrift {

    0%,
    100% {
        transform: translate(0, 0) scale(1);
    }

    33% {
        transform: translate(2%, -1.5%) scale(1.02);
    }

    66% {
        transform: translate(-1.5%, 2%) scale(0.98);
    }
}

// 반응형 디자인
@media (max-width: 768px) {
    .designbase-animation-background {
        &--clickable {
            &:hover {
                transform: none;
            }
        }
    }
}