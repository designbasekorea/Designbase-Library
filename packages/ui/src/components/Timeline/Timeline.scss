.designbase-timeline {
    position: relative;
    width: 100%;

    &__container {
        position: relative;
        display: flex;
        flex-direction: column;
        gap: var(--db-gap-s);
    }

    &__item {
        position: relative;
        display: flex;
        align-items: stretch;
        width: 100%;
        gap: var(--db-gap-m);

        &--left {
            flex-direction: row;

            .designbase-timeline__content {
                flex: 1;
                text-align: left;
            }
        }

        &--right {
            flex-direction: row-reverse;

            .designbase-timeline__content {
                flex: 1;
                text-align: right;
            }
        }
    }

    // 타임스탬프 래퍼 (alternate 타입에서 인디케이터 옆에 표시)
    &__timestamp-wrapper {
        display: flex;
        align-items: flex-start;
        padding-top: var(--db-padding-xs);
        flex-shrink: 0;
        width: 120px;

        &--left {
            justify-content: flex-end;
            padding-right: var(--db-gap-m);
            text-align: right;
        }

        &--right {
            justify-content: flex-start;
            padding-left: var(--db-gap-m);
            text-align: left;
        }

        &--clickable {
            cursor: pointer;

            .designbase-timeline__content-inner,
            .designbase-timeline__dot {
                transition: all 0.2s ease;

                &:hover {
                    transform: scale(1.05);
                }
            }
        }

        &--disabled {
            opacity: 0.5;
            pointer-events: none;
        }
    }

    // 인디케이터 컨테이너 (ProgressStep처럼)
    &__indicator-container {
        position: relative;
        display: flex;
        flex-direction: column;
        align-items: center;
        flex-shrink: 0;
        align-self: stretch;
    }

    &__content {
        flex: 1;
        min-width: 0;
        display: flex;
        flex-direction: column;

        &-inner {
            padding: var(--db-padding-m);
            background-color: var(--db-surface-base);
            border-radius: var(--db-radius-m);
            border: 1px solid var(--db-border-base);
            transition: all var(--db-animation-speed) var(--db-animation-ease);

            &:hover {
                box-shadow: var(--db-shadow-md);
            }
        }

        // &--left와 &--right는 타임스탬프 정렬이 필요 없음 (콘텐츠 위에 표시)
    }

    &__timestamp {
        font-size: var(--db-text-s);
        color: var(--db-text-secondary);
        margin-bottom: var(--db-margin-xs);
        font-weight: 500;
        white-space: nowrap;
    }

    &__title {
        font-size: var(--db-text-l);
        font-weight: 600;
        color: var(--db-text-primary);
        margin: 0;
        line-height: 1.2;
    }

    &__description {
        font-size: var(--db-text-base);
        color: var(--db-text-secondary);
        margin: 0;
        line-height: 1.5;
    }

    &__dot {
        width: var(--db-size-m);
        height: var(--db-size-m);
        border-radius: var(--db-radius-full);
        display: flex;
        align-items: center;
        justify-content: center;
        background-color: transparent;
        border: none;
        transition: all var(--db-animation-speed) var(--db-animation-ease);
        position: relative;
        z-index: 2;
        flex-shrink: 0;

        // 기본 점 (아이콘이나 숫자가 없을 때)
        &::before {
            content: '';
            width: 8px;
            height: 8px;
            border-radius: var(--db-radius-full);
            background-color: var(--db-border-base);
            transition: all var(--db-animation-speed) var(--db-animation-ease);
        }

        // 아이콘이 있을 때만 테두리 추가
        &--with-icon {
            background-color: var(--db-surface-base);
            border: 1px solid var(--db-border-base);
        }

        // 아이콘이나 숫자가 있을 때는 점 숨김
        &--with-icon,
        &--with-number {
            &::before {
                display: none;
            }
        }

        &--clickable {
            cursor: pointer;

            &:hover {
                transform: scale(1.1);
                box-shadow: var(--db-shadow-md);
            }
        }

        // 색상 변형
        &--primary {
            border-color: var(--db-color-primary);

            .designbase-timeline__dot-inner {
                background-color: var(--db-color-primary);
            }
        }

        &--secondary {
            border-color: var(--db-color-secondary);

            .designbase-timeline__dot-inner {
                background-color: var(--db-color-secondary);
            }
        }

        &--success {
            border-color: var(--db-border-success);

            .designbase-timeline__dot-inner {
                background-color: var(--db-text-success);
            }
        }

        &--warning {
            border-color: var(--db-border-warning);

            .designbase-timeline__dot-inner {
                background-color: var(--db-text-warning);
            }
        }

        &--error {
            border-color: var(--db-border-error);

            .designbase-timeline__dot-inner {
                background-color: var(--db-text-error);
            }
        }

        &--info {
            border-color: var(--db-color-info);

            .designbase-timeline__dot-inner {
                background-color: var(--db-color-info);
            }
        }

        &--default {
            border-color: var(--db-border-base);

            .designbase-timeline__dot-inner {
                background-color: var(--db-text-secondary);
            }
        }

        // 스타일 변형
        &--outlined {
            background-color: transparent;

            .designbase-timeline__dot-inner {
                background-color: transparent;
            }
        }

        &--filled {
            .designbase-timeline__dot-inner {
                background-color: var(--db-surface-base);
            }
        }

        // 상태별 스타일 (점일 때만 적용)
        &--completed {
            &::before {
                background-color: var(--db-brand-primary);
            }
        }

        &--active {
            &::before {
                background-color: var(--db-brand-secondary);
            }
        }

        &--pending {
            &::before {
                background-color: var(--db-border-base);
            }
        }
    }

    // Pulse 애니메이션 (진행중일 때)
    &__pulse {
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: var(--db-size-m);
        height: var(--db-size-m);
        border-radius: var(--db-radius-full);
        background-color: var(--db-brand-secondary);
        opacity: 0.2;
        animation: timeline-pulse 2s ease-in-out infinite;
        z-index: -1;
    }

    @keyframes timeline-pulse {
        0% {
            transform: translate(-50%, -50%) scale(1);
            opacity: 0.2;
        }

        50% {
            transform: translate(-50%, -50%) scale(2);
            opacity: 0;
        }

        100% {
            transform: translate(-50%, -50%) scale(1);
            opacity: 0;
        }
    }

    &__icon {
        width: 60%;
        height: 60%;
        color: inherit;
        display: flex;
        align-items: center;
        justify-content: center;
        position: relative;
        z-index: 1;

        svg {
            width: 100%;
            height: 100%;
            fill: currentColor;
        }
    }

    &__number {
        font-weight: var(--db-weight-semibold);
        font-size: var(--db-text-s);
        position: relative;
        z-index: 1;
    }

    &__connector {
        width: 1px;
        flex: 1;
        min-height: var(--db-gap-m);
        background-color: var(--db-border-base);
        transition: background-color var(--db-animation-speed) var(--db-animation-ease);
        position: relative;
        z-index: 1;
    }

    // 크기 변형
    &--s {
        .designbase-timeline__dot {
            width: var(--db-size-s);
            height: var(--db-size-s);
        }

        .designbase-timeline__number {
            font-size: var(--db-text-xs);
        }

        .designbase-timeline__title {
            font-size: var(--db-text-base);
        }

        .designbase-timeline__description {
            font-size: var(--db-text-s);
        }
    }

    &--m {
        .designbase-timeline__dot {
            width: var(--db-size-m);
            height: var(--db-size-m);
        }

        .designbase-timeline__number {
            font-size: var(--db-text-s);
        }
    }

    &--l {
        .designbase-timeline__dot {
            width: var(--db-size-l);
            height: var(--db-size-l);
        }

        .designbase-timeline__number {
            font-size: var(--db-text-base);
        }

        .designbase-timeline__title {
            font-size: var(--db-text-l);
        }

        .designbase-timeline__description {
            font-size: var(--db-text-base);
        }
    }

    // 타입별 스타일
    &--left {
        .designbase-timeline__item {
            flex-direction: row;

            .designbase-timeline__content {
                text-align: left;
            }
        }
    }

    &--alternate {
        .designbase-timeline__indicator-container {
            position: absolute;
            left: 50%;
            transform: translateX(-50%);
            z-index: 1;
            height: 100%;
        }

        .designbase-timeline__item {
            position: relative;
            padding: 0 var(--db-padding-l);

            &--left {
                .designbase-timeline__content {
                    margin-right: auto;
                    margin-left: 0;
                    max-width: calc(50% - var(--db-gap-l));
                    text-align: right;
                }
            }

            &--right {
                .designbase-timeline__content {
                    margin-left: auto;
                    margin-right: 0;
                    max-width: calc(50% - var(--db-gap-l));
                    text-align: left;
                }
            }
        }
    }

    // 전체 너비
    &--full-width {
        &.designbase-timeline--alternate {
            .designbase-timeline__content {
                max-width: 45%;
            }
        }
    }

    // 반응형 디자인
    @media (max-width: 768px) {
        &--alternate {
            .designbase-timeline__indicator-container {
                position: static;
                transform: none;
            }

            .designbase-timeline__item {
                flex-direction: row !important;
                padding: 0 !important;

                .designbase-timeline__content {
                    margin: 0 !important;
                    max-width: 100% !important;
                    text-align: left !important;
                }
            }
        }

        &__content-inner {
            padding: var(--db-padding-s);
        }

        &__title {
            font-size: var(--db-text-base);
        }

        &__description {
            font-size: var(--db-text-s);
        }
    }
}