/**
 * Button 컴포넌트 스타일
 * 
 * 목적: 디자인 토큰 기반 버튼 스타일 정의
 * 기능: 다양한 variant, size, state 지원
 */

.designbase-button {
    // 기본 스타일
    display: inline-flex;
    align-items: center;
    justify-content: center;
    gap: var(--db-gap-xs);
    border: 1px solid transparent;
    font-weight: var(--db-weight-medium);
    line-height: 1;
    transition: all 150ms ease;
    cursor: pointer;
    outline: none;

    &:focus {
        outline: none;
        box-shadow: 0 0 0 1px var(--db-border-focus);
    }

    &:disabled {
        cursor: not-allowed;
        opacity: var(--db-opacity-disabled);

        // 비활성화 상태에서 테두리 색상 보장
        &--secondary {
            border-color: var(--db-border-secondary-disabled);
        }

        &--tertiary {
            border-color: var(--db-border-secondary-disabled);
        }
    }

    // Variant 스타일
    &--primary {
        background-color: var(--db-btn-primary-bg);
        border-color: var(--db-btn-primary-bg);
        color: var(--db-btn-primary-text);

        &:hover:not(:disabled) {
            background-color: var(--db-btn-primary-bg-hover);
            border-color: var(--db-btn-primary-border-hover);
        }

        &:active:not(:disabled) {
            background-color: var(--db-btn-primary-bg-active);
            border-color: var(--db-btn-primary-border-active);
        }

        &:focus {
            outline: 2px solid var(--db-border-focus);
            outline-offset: 2px;
        }
    }

    &--secondary {
        background-color: var(--db-btn-secondary-bg);
        border-color: var(--db-btn-secondary-border);
        color: var(--db-btn-secondary-text);

        &:hover:not(:disabled) {
            background-color: var(--db-btn-secondary-bg-hover);
            border-color: var(--db-btn-secondary-border-hover);
            color: var(--db-btn-secondary-text-hover);
        }

        &:active:not(:disabled) {
            background-color: var(--db-btn-secondary-bg-active);
        }

        &:focus {
            outline: 1px solid var(--db-border-focus);
            outline-offset: 2px;
        }
    }

    &--tertiary {
        background-color: var(--db-btn-tertiary-bg);
        border-color: var(--db-btn-tertiary-border);
        color: var(--db-btn-tertiary-text);

        &:hover:not(:disabled) {
            background-color: var(--db-btn-tertiary-bg-hover);
            border-color: var(--db-btn-tertiary-border-hover);
            color: var(--db-btn-tertiary-text-hover);
        }

        &:active:not(:disabled) {
            background-color: var(--db-btn-tertiary-bg-active);
        }

        &:focus {
            outline: 1px solid var(--db-border-focus);
            outline-offset: 2px;
        }
    }

    &--danger {
        background-color: var(--db-feedback-error-fg);
        border-color: var(--db-feedback-error-fg);
        color: var(--db-text-inverse-primary);

        &:hover:not(:disabled) {
            background-color: var(--color-foundation-red-600);
            border-color: var(--color-foundation-red-600);
        }

        &:active:not(:disabled) {
            background-color: var(--color-foundation-red-700);
            border-color: var(--color-foundation-red-700);
        }

        &:focus {
            outline: 1px solid var(--db-feedback-error-fg);
            outline-offset: 2px;
        }
    }

    &--ghost {
        background-color: transparent;
        border-color: transparent;
        color: var(--db-text-primary);

        &:hover:not(:disabled) {
            background-color: var(--db-surface-layer-1);
        }

        &:focus {
            outline: 1px solid var(--db-border-focus);
            outline-offset: 2px;
        }
    }

    // Size 스타일
    &--xs {
        font-size: var(--db-text-xs);
        padding: var(--db-padding-xxs);
    }

    &--s {
        font-size: var(--db-text-s);
        padding: var(--db-padding-xs);
    }

    &--m {
        font-size: var(--db-text-base);
        padding: var(--db-padding-s);
        gap: var(--db-gap-s);
    }

    &--l {
        font-size: var(--db-text-l);
        padding: var(--db-padding-m);
        gap: var(--db-gap-s);
    }

    &--xl {
        font-size: var(--db-text-xl);
        padding: var(--db-padding-l);
        gap: var(--db-gap-m);
    }

    // Border radius variants
    &--radius-s {
        border-radius: var(--db-radius-btn-s);
    }

    &--radius-m {
        border-radius: var(--db-radius-btn-m);
    }

    &--radius-l {
        border-radius: var(--db-radius-btn-l);
    }

    &--radius-pill {
        border-radius: var(--db-radius-btn-pill);
    }

    // Icon only 버튼
    &--icon-only {
        gap: 0;
        min-width: auto;

        // 아이콘이 제대로 표시되도록 보장
        svg {
            display: block;
            width: 100%;
            height: 100%;
            max-width: 24px;
        }

        &.designbase-button--xs {
            padding: var(--db-padding-xxs);
        }

        &.designbase-button--s {
            padding: var(--db-padding-xs);
        }

        &.designbase-button--m {
            padding: var(--db-padding-s);
        }

        &.designbase-button--l {
            padding: var(--db-padding-m);
        }

        &.designbase-button--xl {
            padding: var(--db-padding-l);
        }
    }

    // Full width
    &--full-width {
        width: 100%;
    }

    // Loading 상태
    &--loading {
        pointer-events: none;

        // 로딩 상태에서 스피너 색상 보장
        .designbase-spinner {
            color: inherit;
        }
    }

    @keyframes spin {
        from {
            transform: rotate(0deg);
        }

        to {
            transform: rotate(360deg);
        }
    }
}