.designbase-resizable-panels {
    position: relative;
    display: flex;
    flex-direction: column;
    overflow: hidden;
    transition: box-shadow var(--db-animation-speed) var(--db-animation-ease);
    user-select: none;

    // 테두리 스타일
    &--border {
        border: 1px solid var(--db-border);
    }

    // 그림자 효과
    &--shadow {
        box-shadow: var(--db-shadow-md);
    }

    // 리사이징 중일 때 스타일
    &--resizing {
        transition: none;
        z-index: 1000;

        .designbase-resizable-panels__handle {
            opacity: 1;
            transform: scale(1.1);
        }
    }

    // 내용 영역
    &__content {
        flex: 1;
        overflow: auto;
        position: relative;
        z-index: 1;
    }

    // 리사이즈 핸들
    &__handle {
        position: absolute;
        display: flex;
        align-items: center;
        justify-content: center;
        border-radius: var(--db-radius-sm);
        opacity: var(--db-opacity-70);
        transition: all var(--db-animation-speed) var(--db-animation-ease);
        z-index: 10;
        color: white;
        font-size: var(--db-font-xs);

        &:hover {
            opacity: var(--db-opacity-100);
            transform: scale(1.1);
        }

        &:active {
            transform: scale(0.95);
        }

        // 터치 디바이스에서 호버 효과 제거
        @media (hover: none) {
            opacity: var(--db-opacity-90);
        }
    }

    // 가이드라인
    &__guides {
        position: absolute;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        pointer-events: none;
        z-index: 5;
    }

    &__guide {
        position: absolute;
        background: linear-gradient(90deg, transparent 0%, var(--db-primary) 50%, transparent 100%);
        opacity: var(--db-opacity-60);

        &--horizontal {
            top: 50%;
            left: 0;
            right: 0;
            height: 1px;
            transform: translateY(-50%);
        }

        &--vertical {
            left: 50%;
            top: 0;
            bottom: 0;
            width: 1px;
            transform: translateX(-50%);
        }
    }

    // 크기 표시기
    &__size-indicator {
        position: absolute;
        top: var(--db-spacing-10);
        left: var(--db-spacing-10);
        background: rgba(0, 0, 0, 0.8);
        color: white;
        padding: var(--db-padding-xs) var(--db-padding-s);
        border-radius: var(--db-radius-sm);
        font-size: var(--db-font-xs);
        font-weight: var(--db-font-medium);
        pointer-events: none;
        z-index: 6;
        white-space: nowrap;
    }

    // 제약 조건 경고
    &__constraints {
        position: absolute;
        bottom: var(--db-spacing-10);
        left: var(--db-spacing-10);
        display: flex;
        flex-direction: column;
        gap: var(--db-gap-xs);
        pointer-events: none;
        z-index: 6;
    }

    &__constraint {
        background: rgba(220, 53, 69, 0.9);
        color: white;
        padding: var(--db-padding-xs) var(--db-padding-s);
        border-radius: var(--db-radius-sm);
        font-size: var(--db-font-xs);
        font-weight: var(--db-font-medium);
        white-space: nowrap;
        animation: pulse 1s ease-in-out infinite;

        &--min {
            background: rgba(255, 193, 7, 0.9);
            color: #212529;
        }

        &--max {
            background: rgba(220, 53, 69, 0.9);
            color: white;
        }
    }

    // 애니메이션
    @keyframes pulse {

        0%,
        100% {
            opacity: 1;
        }

        50% {
            opacity: 0.7;
        }
    }

    // 반응형 디자인
    @media (max-width: 768px) {
        &__handle {
            opacity: var(--db-opacity-90);
            transform: scale(1.2);
        }

        &__size-indicator {
            font-size: 11px;
            padding: var(--db-padding-xs) var(--db-padding-s);
        }

        &__constraint {
            font-size: 9px;
            padding: var(--db-padding-xs) var(--db-padding-xs);
        }
    }

    // 고대비 모드 지원
    @media (prefers-contrast: high) {
        &__handle {
            border: 2px solid currentColor;
        }

        &__guide {
            background: #000;
            opacity: 1;
        }

        &__size-indicator {
            background: #000;
            border: 1px solid #fff;
        }

        &__constraint {
            border: 1px solid currentColor;
        }
    }

    // 다크 모드 지원은 @theme 패키지의 CSS 변수를 통해 자동으로 처리됩니다

    // 접근성 개선
    &:focus-within {
        outline: 2px solid var(--db-primary);
        outline-offset: var(--db-outline-offset);
    }

    // 스크린 리더 지원
    &__handle {
        &[aria-label] {
            &::before {
                content: attr(aria-label);
                position: absolute;
                left: -9999px;
                width: 1px;
                height: 1px;
                overflow: hidden;
            }
        }
    }
}