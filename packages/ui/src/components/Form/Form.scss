.designbase-form {
    width: 100%;
    padding: 0; // 기본 variant는 패딩 없음

    // 레이아웃별 스타일
    &--vertical {
        .designbase-form__field-wrapper {
            display: flex;
            flex-direction: column;
            margin-bottom: var(--db-margin-m);

            &:last-child {
                margin-bottom: 0;
            }
        }

        .designbase-form__label {
            margin-bottom: var(--db-margin-xs);
            font-weight: var(--db-weight-medium);
            color: var(--db-text-primary);
        }
    }

    &--horizontal {
        .designbase-form__field-wrapper {
            display: flex;
            align-items: center;
            margin-bottom: var(--db-margin-m);

            &:last-child {
                margin-bottom: 0;
            }
        }

        .designbase-form__label {
            flex: 0 0 120px;
            margin-right: var(--db-margin-m);
            font-weight: var(--db-weight-medium);
            color: var(--db-text-primary);
            text-align: right;
        }

        .designbase-form__field {
            flex: 1;
        }

        .designbase-form__error,
        .designbase-form__help {
            margin-left: calc(120px + var(--db-margin-m));
        }
    }

    &--inline {
        display: flex;
        flex-wrap: wrap;
        align-items: flex-end;
        gap: var(--db-gap-m);

        .designbase-form__field-wrapper {
            flex: 0 0 auto;
            margin-bottom: 0;
        }

        .designbase-form__label {
            margin-bottom: var(--db-margin-xs);
            font-weight: var(--db-weight-medium);
            color: var(--db-text-primary);
            font-size: var(--db-text-sm);
        }

        .designbase-form__actions {
            flex: 0 0 auto;
        }
    }

    // 크기별 스타일
    &--sm {
        .designbase-form__label {
            font-size: var(--db-text-sm);
        }

        .designbase-form__field {
            font-size: var(--db-text-sm);
        }

        .designbase-form__error,
        .designbase-form__help {
            font-size: var(--db-text-xs);
        }
    }

    &--md {
        .designbase-form__label {
            font-size: var(--db-text-base);
        }

        .designbase-form__field {
            font-size: var(--db-text-base);
        }

        .designbase-form__error,
        .designbase-form__help {
            font-size: var(--db-text-sm);
        }
    }

    &--lg {
        .designbase-form__label {
            font-size: var(--db-text-lg);
        }

        .designbase-form__field {
            font-size: var(--db-text-lg);
        }

        .designbase-form__error,
        .designbase-form__help {
            font-size: var(--db-text-base);
        }
    }

    // 변형별 스타일
    &--bordered {
        padding: var(--db-padding-xl);
        border: 1px solid var(--db-border-primary);
        border-radius: var(--db-radius-lg);
        background-color: var(--db-bg-primary);
        box-shadow: var(--db-shadow-sm);
    }

    &--filled {
        padding: var(--db-padding-xl);
        background-color: var(--db-bg-secondary);
        border-radius: var(--db-radius-lg);
        border: 1px solid var(--db-border-primary);
    }

    // 헤더
    &__header {
        margin-bottom: var(--db-margin-xl);
        text-align: center;
    }

    &__title {
        margin: 0 0 var(--db-margin-s) 0;
        font-size: var(--db-text-2xl);
        font-weight: var(--db-weight-bold);
        color: var(--db-text-primary);
    }

    &__description {
        margin: 0;
        font-size: var(--db-text-base);
        color: var(--db-text-secondary);
        line-height: 1.5;
    }

    // 필드 래퍼
    &__field-wrapper {
        position: relative;
    }

    // 라벨
    &__label {
        display: block;
        line-height: 1.4;
    }

    &__required {
        color: var(--db-red-500);
        margin-left: var(--db-margin-xs);
    }

    // 필드
    &__field {
        width: 100%;
        transition: all var(--db-animation-speed) var(--db-animation-ease);

        &--error {
            border-color: var(--db-red-500) !important;
            box-shadow: 0 0 0 2px rgba(220, 53, 69, 0.1);
        }
    }

    // 파일 입력
    &__file-input {
        padding: var(--db-padding-s);
        border: 2px dashed var(--db-border-primary);
        border-radius: var(--db-radius-md);
        background-color: var(--db-bg-secondary);
        cursor: pointer;
        transition: all var(--db-animation-speed) var(--db-animation-ease);

        &:hover {
            border-color: var(--db-blue-500);
            background-color: var(--db-blue-50);
        }

        &:focus {
            outline: none;
            border-color: var(--db-blue-500);
            box-shadow: 0 0 0 2px rgba(0, 123, 255, 0.1);
        }
    }

    // 라디오 그룹
    &__radio-group {
        display: flex;
        flex-direction: column;
        gap: var(--db-gap-s);

        .designbase-radio {
            margin-bottom: 0;
        }
    }

    // 체크박스 그룹
    &__checkbox-group {
        display: flex;
        flex-direction: column;
        gap: var(--db-gap-s);

        .designbase-checkbox {
            margin-bottom: 0;
        }
    }

    // 에러 메시지
    &__error {
        margin-top: var(--db-margin-xs);
        color: var(--db-red-500);
        font-size: var(--db-text-sm);
        line-height: 1.4;
        animation: formErrorSlideIn var(--db-animation-speed) var(--db-animation-ease);
    }

    // 도움말 텍스트
    &__help {
        margin-top: var(--db-margin-xs);
        color: var(--db-text-secondary);
        font-size: var(--db-text-sm);
        line-height: 1.4;
    }

    // 액션 버튼들
    &__actions {
        display: flex;
        gap: var(--db-gap-s);
        margin-top: var(--db-margin-xl);
        padding-top: var(--db-padding-m);
        border-top: 1px solid var(--db-border-primary);

        .designbase-form--inline & {
            margin-top: 0;
            padding-top: 0;
            border-top: none;
        }
    }

    // 반응형 디자인
    @media (max-width: 768px) {
        &--horizontal {
            .designbase-form__field-wrapper {
                flex-direction: column;
                align-items: flex-start;
            }

            .designbase-form__label {
                flex: none;
                margin-right: 0;
                margin-bottom: var(--db-margin-xs);
                text-align: left;
            }

            .designbase-form__error,
            .designbase-form__help {
                margin-left: 0;
            }
        }

        &--inline {
            flex-direction: column;
            align-items: stretch;

            .designbase-form__field-wrapper {
                flex: 1;
            }

            .designbase-form__actions {
                flex: 1;
                justify-content: stretch;

                .designbase-button {
                    flex: 1;
                }
            }
        }

        &__actions {
            flex-direction: column;

            .designbase-button {
                width: 100%;
            }
        }
    }

    // 다크 모드는 상위에서 관리됩니다

    // 접근성 개선
    &__field:focus-visible {
        outline: 2px solid var(--db-blue-500);
        outline-offset: 2px;
    }

    // 애니메이션
    &__field-wrapper {
        animation: formFieldSlideIn var(--db-animation-speed) var(--db-animation-ease);
    }
}

// 애니메이션 키프레임
@keyframes formErrorSlideIn {
    from {
        opacity: 0;
        transform: translateY(-10px);
    }

    to {
        opacity: 1;
        transform: translateY(0);
    }
}

@keyframes formFieldSlideIn {
    from {
        opacity: 0;
        transform: translateX(-20px);
    }

    to {
        opacity: 1;
        transform: translateX(0);
    }
}

// 폼 검증 상태 스타일
.designbase-form {
    &__field-wrapper--error {
        .designbase-form__label {
            color: var(--db-red-500);
        }
    }

    &__field-wrapper--success {
        .designbase-form__field {
            border-color: var(--db-green-500);
            box-shadow: 0 0 0 2px rgba(40, 167, 69, 0.1);
        }
    }

    &__field-wrapper--warning {
        .designbase-form__field {
            border-color: var(--db-yellow-500);
            box-shadow: 0 0 0 2px rgba(255, 193, 7, 0.1);
        }
    }
}

// 로딩 상태
.designbase-form--loading {
    pointer-events: none;
    opacity: 0.7;

    .designbase-form__field {
        background-color: var(--db-bg-secondary);
    }
}

// 비활성화 상태
.designbase-form--disabled {
    pointer-events: none;
    opacity: 0.6;

    .designbase-form__field {
        background-color: var(--db-bg-secondary);
        cursor: not-allowed;
    }
}