/**
 * YouTubePlayer 컴포넌트 스타일
 * 
 * 목적: YouTube 동영상을 반응형으로 임베드하는 플레이어 스타일
 * 기능: 다양한 size, variant, theme 지원, 반응형 비율 유지
 */

.designbase-youtube-player {
    // 기본 스타일
    position: relative;
    width: 100%;
    background-color: var(--db-bg-secondary);
    border-radius: var(--db-radius-md);
    overflow: hidden;
    box-shadow: var(--db-shadow-md);

    // Size 스타일
    &--sm {
        max-width: 320px;
        aspect-ratio: 16 / 9;
    }

    &--md {
        max-width: 640px;
        aspect-ratio: 16 / 9;
    }

    &--lg {
        max-width: 960px;
        aspect-ratio: 16 / 9;
    }

    &--xl {
        max-width: 1280px;
        aspect-ratio: 16 / 9;
    }

    &--full {
        width: 100%;
        aspect-ratio: 16 / 9;
    }

    // Variant 스타일
    &--default {
        border: 1px solid var(--db-border-primary);
    }

    &--minimal {
        border: none;
        box-shadow: none;
        border-radius: 0;
    }

    &--theater {
        border-radius: 0;
        box-shadow: none;
        background-color: var(--db-bg-inverse);
    }

    &--picture-in-picture {
        position: fixed;
        bottom: 20px;
        right: 20px;
        width: 320px;
        height: 180px;
        z-index: 1000;
        border-radius: var(--db-radius-md);
        box-shadow: var(--db-shadow-xl);
    }

    // Theme 스타일
    &--light {
        background-color: var(--db-bg-primary);
        color: var(--db-text-primary);
    }

    &--dark {
        background-color: var(--db-bg-inverse);
        color: var(--db-text-inverse);
    }

    &--auto {
        // 시스템 테마에 따라 자동 적용
    }

    // 상태 스타일 - 오버레이 제거로 인해 단순화

    &--muted {
        // YouTube 자체 컨트롤 사용으로 인해 제거
    }

    &--fullscreen {
        position: fixed;
        top: 0;
        left: 0;
        width: 100vw;
        height: 100vh;
        z-index: 9999;
        border-radius: 0;
        max-width: none;
        aspect-ratio: auto;
    }

    &--error {
        .designbase-youtube-player__container {
            display: none;
        }
    }

    // 컨테이너
    &__container {
        position: relative;
        width: 100%;
        height: 100%;
        background-color: var(--db-bg-inverse);
    }

    // iframe
    &__iframe {
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;
        border: none;
        border-radius: inherit;
    }

    // 오버레이 관련 스타일 제거 - YouTube 자체 컨트롤 사용

    // 설명
    &__description {
        padding: var(--db-padding-md);
        background-color: var(--db-bg-primary);
        border-top: 1px solid var(--db-border-primary);

        p {
            margin: 0;
            font-size: var(--db-text-sm);
            line-height: 1.5;
            color: var(--db-text-secondary);
        }
    }

    // 에러 상태
    &__error {
        display: flex;
        align-items: center;
        justify-content: center;
        height: 100%;
        padding: var(--db-padding-xl);
        text-align: center;
        color: var(--db-red-600);

        p {
            margin: 0;
            font-size: var(--db-text-base);
            line-height: 1.5;
        }
    }

    // 반응형 스타일
    @media (max-width: 768px) {

        &--sm,
        &--md,
        &--lg,
        &--xl {
            max-width: 100%;
        }
    }

    // 테마는 상위에서 관리됩니다.

    // 접근성 개선
    &:focus-within {
        outline: 2px solid var(--db-blue-600);
        outline-offset: 2px;
    }

    // 로딩 상태
    &::before {
        content: '';
        position: absolute;
        top: 50%;
        left: 50%;
        transform: translate(-50%, -50%);
        width: 40px;
        height: 40px;
        border: 3px solid var(--db-border-primary);
        border-top-color: var(--db-white);
        border-radius: 50%;
        animation: spin 1s linear infinite;
        z-index: 1;
        opacity: 0;
        transition: opacity 0.3s ease;
    }

    &--loading::before {
        opacity: 1;
    }

    @keyframes spin {
        to {
            transform: translate(-50%, -50%) rotate(360deg);
        }
    }
}

// 전체화면 모드에서의 스타일 - 오버레이 제거로 인해 단순화

// Picture-in-Picture 모드에서의 스타일
.designbase-youtube-player--picture-in-picture {
    .designbase-youtube-player__description {
        display: none;
    }
}