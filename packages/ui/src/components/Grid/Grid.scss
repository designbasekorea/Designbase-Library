/**
 * Grid 컴포넌트 스타일
 */

.designbase-grid {
    display: flex;
    flex-direction: column;
    width: 100%;
    padding: var(--ion-grid-padding, 16px);

    // 고정 너비 그리드
    &--fixed {
        width: var(--ion-grid-width, 100%);
        margin: 0 auto;

        @media (min-width: 576px) {
            width: var(--ion-grid-width-sm, 540px);
        }

        @media (min-width: 768px) {
            width: var(--ion-grid-width-md, 720px);
        }

        @media (min-width: 992px) {
            width: var(--ion-grid-width-lg, 960px);
        }

        @media (min-width: 1200px) {
            width: var(--ion-grid-width-xl, 1140px);
        }
    }

    // 패딩 제거
    &--no-padding {
        padding: 0;
    }

    // 행
    &__row {
        display: flex;
        flex-wrap: wrap;
        margin: calc(var(--ion-grid-column-padding, 8px) * -1);

        // 세로 정렬
        &--align-start {
            align-items: flex-start;
        }

        &--align-center {
            align-items: center;
        }

        &--align-end {
            align-items: flex-end;
        }

        &--align-stretch {
            align-items: stretch;
        }

        // 가로 정렬
        &--justify-start {
            justify-content: flex-start;
        }

        &--justify-center {
            justify-content: center;
        }

        &--justify-end {
            justify-content: flex-end;
        }

        &--justify-around {
            justify-content: space-around;
        }

        &--justify-between {
            justify-content: space-between;
        }

        &--justify-evenly {
            justify-content: space-evenly;
        }
    }

    // 컬럼
    &__col {
        flex: 1;
        padding: var(--ion-grid-column-padding, 8px);
        box-sizing: border-box;

        // 기본 크기 (xs)
        @for $i from 1 through 12 {
            &--xs-#{$i} {
                flex: 0 0 calc(100% / 12 * #{$i});
                max-width: calc(100% / 12 * #{$i});
            }
        }

        &--xs-auto {
            flex: 0 0 auto;
            max-width: none;
        }

        // 오프셋 (xs)
        @for $i from 1 through 11 {
            &--xs-offset-#{$i} {
                margin-left: calc(100% / 12 * #{$i});
            }
        }

        // 푸시 (xs)
        @for $i from 1 through 11 {
            &--xs-push-#{$i} {
                margin-left: calc(100% / 12 * #{$i});
            }
        }

        // 풀 (xs)
        @for $i from 1 through 11 {
            &--xs-pull-#{$i} {
                margin-left: calc(-100% / 12 * #{$i});
            }
        }

        // sm 브레이크포인트 (576px 이상)
        @media (min-width: 576px) {
            @for $i from 1 through 12 {
                &--sm-#{$i} {
                    flex: 0 0 calc(100% / 12 * #{$i});
                    max-width: calc(100% / 12 * #{$i});
                }
            }

            &--sm-auto {
                flex: 0 0 auto;
                max-width: none;
            }

            @for $i from 1 through 11 {
                &--sm-offset-#{$i} {
                    margin-left: calc(100% / 12 * #{$i});
                }
            }

            @for $i from 1 through 11 {
                &--sm-push-#{$i} {
                    margin-left: calc(100% / 12 * #{$i});
                }
            }

            @for $i from 1 through 11 {
                &--sm-pull-#{$i} {
                    margin-left: calc(-100% / 12 * #{$i});
                }
            }
        }

        // md 브레이크포인트 (768px 이상)
        @media (min-width: 768px) {
            @for $i from 1 through 12 {
                &--md-#{$i} {
                    flex: 0 0 calc(100% / 12 * #{$i});
                    max-width: calc(100% / 12 * #{$i});
                }
            }

            &--md-auto {
                flex: 0 0 auto;
                max-width: none;
            }

            @for $i from 1 through 11 {
                &--md-offset-#{$i} {
                    margin-left: calc(100% / 12 * #{$i});
                }
            }

            @for $i from 1 through 11 {
                &--md-push-#{$i} {
                    margin-left: calc(100% / 12 * #{$i});
                }
            }

            @for $i from 1 through 11 {
                &--md-pull-#{$i} {
                    margin-left: calc(-100% / 12 * #{$i});
                }
            }
        }

        // lg 브레이크포인트 (992px 이상)
        @media (min-width: 992px) {
            @for $i from 1 through 12 {
                &--lg-#{$i} {
                    flex: 0 0 calc(100% / 12 * #{$i});
                    max-width: calc(100% / 12 * #{$i});
                }
            }

            &--lg-auto {
                flex: 0 0 auto;
                max-width: none;
            }

            @for $i from 1 through 11 {
                &--lg-offset-#{$i} {
                    margin-left: calc(100% / 12 * #{$i});
                }
            }

            @for $i from 1 through 11 {
                &--lg-push-#{$i} {
                    margin-left: calc(100% / 12 * #{$i});
                }
            }

            @for $i from 1 through 11 {
                &--lg-pull-#{$i} {
                    margin-left: calc(-100% / 12 * #{$i});
                }
            }
        }

        // xl 브레이크포인트 (1200px 이상)
        @media (min-width: 1200px) {
            @for $i from 1 through 12 {
                &--xl-#{$i} {
                    flex: 0 0 calc(100% / 12 * #{$i});
                    max-width: calc(100% / 12 * #{$i});
                }
            }

            &--xl-auto {
                flex: 0 0 auto;
                max-width: none;
            }

            @for $i from 1 through 11 {
                &--xl-offset-#{$i} {
                    margin-left: calc(100% / 12 * #{$i});
                }
            }

            @for $i from 1 through 11 {
                &--xl-push-#{$i} {
                    margin-left: calc(100% / 12 * #{$i});
                }
            }

            @for $i from 1 through 11 {
                &--xl-pull-#{$i} {
                    margin-left: calc(-100% / 12 * #{$i});
                }
            }
        }
    }
}

// CSS 변수 기본값
:root {
    // 그리드 패딩
    --ion-grid-padding: 16px;
    --ion-grid-padding-xs: 16px;
    --ion-grid-padding-sm: 16px;
    --ion-grid-padding-md: 16px;
    --ion-grid-padding-lg: 16px;
    --ion-grid-padding-xl: 16px;

    // 컬럼 패딩
    --ion-grid-column-padding: 8px;
    --ion-grid-column-padding-xs: 8px;
    --ion-grid-column-padding-sm: 8px;
    --ion-grid-column-padding-md: 8px;
    --ion-grid-column-padding-lg: 8px;
    --ion-grid-column-padding-xl: 8px;

    // 고정 그리드 너비
    --ion-grid-width: 100%;
    --ion-grid-width-xs: 100%;
    --ion-grid-width-sm: 540px;
    --ion-grid-width-md: 720px;
    --ion-grid-width-lg: 960px;
    --ion-grid-width-xl: 1140px;

    // 컬럼 수 (기본값: 12)
    --ion-grid-columns: 12;
}

// 테마는 상위에서 관리됩니다.

// 접근성 개선
.designbase-grid {

    // 스크린 리더를 위한 시맨틱 마크업
    &[role="grid"] {
        .designbase-grid__row {
            role: "row";
        }

        .designbase-grid__col {
            role: "gridcell";
        }
    }
}

// 애니메이션 최적화
.designbase-grid__col {
    will-change: flex-basis, max-width, margin-left;
    backface-visibility: hidden;
}