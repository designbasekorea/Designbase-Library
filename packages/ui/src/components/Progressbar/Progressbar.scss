.designbase-progressbar {
    display: flex;
    flex-direction: column;
    gap: var(--db-gap-xs);

    &__container {
        display: flex;
        flex-direction: column;
        gap: var(--db-gap-xs);

        &--top {
            flex-direction: column;
        }

        &--bottom {
            flex-direction: column-reverse;
        }

        &--inside {
            flex-direction: column;
        }
    }

    &__track {
        width: 100%;
        background-color: var(--db-bg-secondary);
        border-radius: var(--db-radius-full);
        overflow: hidden;
        position: relative;
    }

    &__fill {
        height: 100%;
        background-color: var(--db-blue-500);
        border-radius: var(--db-radius-full);
        transition: width var(--db-animation-speed) var(--db-animation-ease);
        position: relative;
        display: flex;
        align-items: center;
        justify-content: center;
    }

    &__fill-label {
        color: var(--db-text-inverse);
        font-size: var(--db-text-xs);
        font-weight: var(--db-weight-medium);
        line-height: var(--db-leading-tight);
        white-space: nowrap;
        z-index: 1;
    }

    &__label {
        font-size: var(--db-text-sm);
        font-weight: var(--db-weight-medium);
        line-height: var(--db-leading-normal);
        color: var(--db-text-primary);

        &--top {
            text-align: left;
        }

        &--bottom {
            text-align: left;
        }

        &--inside {
            display: none;
        }
    }

    // Sizes
    &--xs {
        .designbase-progressbar__track {
            height: 4px;
        }

        .designbase-progressbar__label {
            font-size: var(--db-text-xs);
            line-height: var(--db-leading-tight);
        }
    }

    &--sm {
        .designbase-progressbar__track {
            height: 6px;
        }

        .designbase-progressbar__label {
            font-size: var(--db-text-xs);
            line-height: var(--db-leading-tight);
        }
    }

    &--md {
        .designbase-progressbar__track {
            height: 8px;
        }

        .designbase-progressbar__label {
            font-size: var(--db-text-sm);
            line-height: var(--db-leading-normal);
        }
    }

    &--lg {
        .designbase-progressbar__track {
            height: 12px;
        }

        .designbase-progressbar__label {
            font-size: var(--db-text-base);
            line-height: var(--db-leading-normal);
        }
    }

    &--xl {
        .designbase-progressbar__track {
            height: 16px;
        }

        .designbase-progressbar__label {
            font-size: var(--db-text-lg);
            line-height: var(--db-leading-relaxed);
        }
    }

    // Variants
    &--default {
        .designbase-progressbar__fill {
            background-color: var(--db-blue-500);
        }
    }

    &--primary {
        .designbase-progressbar__fill {
            background-color: var(--db-blue-500);
        }
    }

    &--success {
        .designbase-progressbar__fill {
            background-color: var(--db-green-500);
        }
    }

    &--warning {
        .designbase-progressbar__fill {
            background-color: var(--db-yellow-500);
        }
    }

    &--danger {
        .designbase-progressbar__fill {
            background-color: var(--db-red-500);
        }
    }

    // Styles
    &--solid {
        .designbase-progressbar__fill {
            background: linear-gradient(90deg, currentColor, currentColor);
        }
    }

    &--striped {
        .designbase-progressbar__fill {
            background-image: linear-gradient(45deg,
                    rgba(255, 255, 255, 0.15) 25%,
                    transparent 25%,
                    transparent 50%,
                    rgba(255, 255, 255, 0.15) 50%,
                    rgba(255, 255, 255, 0.15) 75%,
                    transparent 75%,
                    transparent);
            background-size: 1rem 1rem;
        }
    }

    &--animated {
        .designbase-progressbar__fill {
            background-image: linear-gradient(45deg,
                    rgba(255, 255, 255, 0.15) 25%,
                    transparent 25%,
                    transparent 50%,
                    rgba(255, 255, 255, 0.15) 50%,
                    rgba(255, 255, 255, 0.15) 75%,
                    transparent 75%,
                    transparent);
            background-size: 1rem 1rem;
            animation: progressbar-stripes 1s linear infinite;
        }
    }

    // States
    &--disabled {
        opacity: var(--db-opacity-60);
        cursor: not-allowed;

        .designbase-progressbar__track {
            background-color: var(--db-bg-secondary);
        }

        .designbase-progressbar__fill {
            background-color: var(--db-text-disabled);
        }

        .designbase-progressbar__label {
            color: var(--db-text-disabled);
        }
    }

    &--full-width {
        width: 100%;
    }

    // Animations
    @keyframes progressbar-stripes {
        0% {
            background-position: 1rem 0;
        }

        100% {
            background-position: 0 0;
        }
    }

    // Responsive
    @media (max-width: 640px) {
        &--lg {
            .designbase-progressbar__track {
                height: 10px;
            }

            .designbase-progressbar__label {
                font-size: var(--db-text-sm);
                line-height: var(--db-leading-normal);
            }
        }

        &--xl {
            .designbase-progressbar__track {
                height: 14px;
            }

            .designbase-progressbar__label {
                font-size: var(--db-text-base);
                line-height: var(--db-leading-normal);
            }
        }
    }

    // Focus styles for accessibility
    &:focus-visible {
        outline: 2px solid var(--db-blue-500);
        outline-offset: 2px;
        border-radius: var(--db-radius-sm);
    }
}